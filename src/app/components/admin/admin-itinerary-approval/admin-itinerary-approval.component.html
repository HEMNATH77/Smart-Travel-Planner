<div class="admin-approval">

  <h2>Itinerary Approvals</h2>

  <div *ngIf="itineraries.length === 0" class="empty">
    No itineraries available for approval.
  </div>

  <table *ngIf="itineraries.length > 0" class="approval-table">
    <thead>
      <tr>
        <th>Destination</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Budget</th>
        <th>Preferences</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let itinerary of itineraries">
        <td>{{ itinerary.destination }}</td>
        <td>{{ itinerary.startDate }}</td>
        <td>{{ itinerary.endDate }}</td>
        <td>₹{{ itinerary.budget }}</td>
        <td>{{ itinerary.preferences }}</td>

        <!-- STATUS -->
        <td>
          <span
            [class.pending]="itinerary.status === 'pending'"
            [class.approved]="itinerary.status === 'approved'"
            [class.rejected]="itinerary.status === 'rejected'"
          >
            {{ itinerary.status | uppercase }}
          </span>
        </td>

        <td class="actions">

  <!-- PENDING → show both -->
  <button
    *ngIf="itinerary.status === 'pending'"
    (click)="approveItinerary(itinerary)">
    Approve
  </button>

  <button
    *ngIf="itinerary.status === 'pending'"
    (click)="rejectItinerary(itinerary)">
    Reject
  </button>

  <!-- APPROVED → show Reject -->
  <button
    *ngIf="itinerary.status === 'approved'"
    (click)="rejectItinerary(itinerary)">
    Reject
  </button>

  <!-- REJECTED → show Approve -->
  <button
    *ngIf="itinerary.status === 'rejected'"
    (click)="approveItinerary(itinerary)">
    Approve
  </button>

</td>

      </tr>
    </tbody>
  </table>

</div>
